<!DOCTYPE html>
<html lang="vn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {%load static%}
    <link rel="stylesheet" href="{%static 'assets/img/favicon.png' %}" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{%static 'assets/css/bootstrap.min.css' %}" />
    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="{%static 'assets/css/uf-style.css' %}" />
    <link rel="stylesheet" href="{%static 'assets/css/all.min.css' %}" />
    <title>Login Account</title>
  </head>
  <body>
    <div class="uf-form-signin">
      <div class="text-center">
        <a href="{% url 'home_page' %}">
          <img src="{% static 'assets/img/logo-page.jpg' %}" alt="" width="250px" height="auto"/>
        </a>
        <h1 class="text-black h3">Đăng Nhập Tài Khoản</h1>
      </div>

      <form class="mt-4 needs-validation" method="POST" action="{% url 'login' %}" novalidate>
        {% csrf_token %}

        {% if messages %}
        <div class="messages mb-3">
            {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="input-group uf-input-group input-group-lg mb-3">
          <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
          <input
            type="email"
            class="form-control {% if form.email.errors %}is-invalid{% endif %}"
            placeholder="Nhập Email đăng nhập"
            id="email"
            name="email"
            required
          />
          <div class="invalid-feedback">
            Vui lòng nhập email hợp lệ
          </div>
        </div>

        <div class="input-group uf-input-group input-group-lg mb-3">
          <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
          <input
            type="password"
            class="form-control {% if form.password.errors %}is-invalid{% endif %}"
            placeholder="Nhập Password"
            id="password"
            name="password"
            required
          />
          <div class="invalid-feedback">
            Vui lòng nhập mật khẩu
          </div>
        </div>

        <div class="d-flex mb-3 justify-content-between">
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input uf-form-check-input"
              id="exampleCheck1"
            />
            <label class="form-check-label text-black" for="exampleCheck1"
              >Nhớ mật khẩu</label
            >
          </div>
          <a href="{% url 'forgot' %}">Quên mật khẩu?</a>
        </div>
        <div class="d-grid mb-4">
          <button type="submit" class="btn uf-btn-primary btn-lg">
            Đăng Nhập
          </button>
        </div>
        <div class="d-flex mb-3">
          <div class="dropdown-divider m-auto w-25"></div>
          <small class="text-nowrap text-black">Hoặc</small>
          <div class="dropdown-divider m-auto w-25"></div>
        </div>
        <div class="uf-social-login d-flex justify-content-center">
          <a href="#" class="uf-social-ic" title="Login with Facebook"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="#" class="uf-social-ic" title="Login with Twitter"
            ><i class="fab fa-twitter"></i
          ></a>
          <a href="#"class="uf-social-ic" title="Login with Google"
            ><i class="fab fa-google"></i
          ></a>
        </div>
        <div class="mt-4 text-center">
          <span class="text-black">Bạn chưa có tài khoản?</span>
          <a
            href="{%url 'register'%}"
            style="
              background: rgb(248, 248, 248);
              padding: 5px 10px;
              border: 1px solid;
              border-radius: 20px;
            "
            >Đăng ký</a>
        </div>
      </form>
    </div>

    <!-- JavaScript -->
    <script src="{% static 'assets/js/bootstrap.min.js'%}"></script>
    <script src="{% static 'assets/js/popper.min.js'%}"></script>

    <!-- Form validation script -->
    <script>
    (function () {
      'use strict'
      var forms = document.querySelectorAll('.needs-validation')
      Array.prototype.slice.call(forms)
        .forEach(function (form) {
          form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }
            form.classList.add('was-validated')
          }, false)
        })
    })()
    </script>
  </body>
</html>
