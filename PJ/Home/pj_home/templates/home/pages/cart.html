{% load static %}
<!DOCTYPE html>
<html lang="vn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
    />
    <link rel="stylesheet" href="{% static 'home/assets/css/cart.css' %}" />
    <link rel="stylesheet" href="{% static 'home/assets/css/style.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
     <!-- Favicon -->
     <link
     rel="apple-touch-icon"
     sizes="180x180"
     href="{% static 'home/favicon_io/apple-touch-icon.png' %}"
   />
   <link
     rel="icon"
     type="image/png"
     sizes="32x32"
     href="{% static 'home/favicon_io/favicon-32x32.png' %}"
   />
   <link
     rel="icon"
     type="image/png"
     sizes="16x16"
     href="{% static 'home/favicon_io/favicon-16x16.png' %}"
   />
   <link rel="manifest" href="{% static 'home/favicon_io/site.webmanifest' %}" />
   <!-- End -->
    <title>Cart</title>
  </head>
  <body>
    <style>
      /* Style chung cho b·∫£ng */
    .table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }
      
      /* Style header */
      .table thead th {
        background-color: #f8f9fa;
        padding: 12px;
        text-align: left;
        border-bottom: 2px solid #dee2e6;
      }
      
      /* Style h√†ng s·∫£n ph·∫©m */
      .table tbody td {
        padding: 12px;
        vertical-align: middle;
        border-top: 1px solid #dee2e6;
      }
      
      /* Hi·ªáu ·ª©ng hover cho h√†ng */
      .table tbody tr:hover {
        background-color: #f8f9fa;
      }
      
      /* Style ·∫£nh s·∫£n ph·∫©m */
      .table tbody td img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
      }
      
      /* Style n√∫t thanh to√°n */
      #checkout {
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      
      #checkout:hover {
        background-color: #218838;
      }
      
      /* Style t·ªïng c·ªông */
      #cart-total {
        color: #dc3545;
        font-size: 1.2em;
        font-weight: bold;
      }
      .remove-item {
        padding: 6px 12px;
        background-color: #dc3545;
        color: white;
        border: 1px solid #dc3545;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .remove-item:hover {
        background-color: #bb2d3b;
        border-color: #b02a37;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      .remove-item:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(220,53,69,0.25);
      }
      .quantity-control {
        display: inline-flex;
        align-items: center;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
      
      .quantity-control button {
        padding: 5px 12px;
        border: none;
        background: #f8f8f8;
        cursor: pointer;
        font-size: 16px;
      }
      
      .quantity-control button:hover {
        background: #eee;
      }
      
      .quantity {
        width: 50px;
        text-align: center;
        border: none;
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        padding: 5px;
        -moz-appearance: textfield;
      }
      
      .quantity::-webkit-outer-spin-button,
      .quantity::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="right-info">
          <a href="#"><i class="fa-solid fa-users"></i>Quan H·ªá C·ªï ƒê√¥ng</a>
          <a href="{% url 'diamond_page' %}"><i class="fa-solid fa-map-location-dot"></i>C·ª≠a H√†ng</a>
          <a href="#"><i class="fa-solid fa-headset"></i>Hotline: 18000xxxx</a>
        </div>
        <a href="{% url 'home_page1' %}"
          ><img src="{%static 'home/assets/img/img-main/logo-page.jpg' %}" alt="" class="logo-header"
        /></a>
        <div class="left-info-shop">
          {% if request.session.user_id %}
          <a href="{% url 'customer_page' %}" class="user-card">
              <i class="fa-solid fa-user"></i> {{ request.session.user_name }}
          </a>
          {% else %}
              <a href="{% url 'login' %}" class="user-card">
                  <i class="fa-solid fa-user"></i> ƒêƒÉng nh·∫≠p
              </a>
          {% endif %}
          
          <a href="{% url 'cart_page' %}" class="cart-shop">
            <img
              style="width: 20px; height: auto"
              src="https://cdn.pnj.io/images/image-update/layout/icon-cart-new.svg"
              alt=""
            />
            <!-- <span>Gi·ªè H√†ng</span><span class="number-cart">{{ request.session.cart|length }}</span> -->
            <span>Gi·ªè H√†ng</span><span class="number-cart">0</span>
            </a>
        </div>
      </div>
      <hr />
      <nav class="nav-menu">
        <ul>
          <li>
            <a href="{% url 'jewelry_page' %}" class="menu-item" id="item-1">Trang S·ª©c</a>
            <!-- Sub Menu -->
            <div class="sub-menu-1">
              <div class="type-menu">
                <span>Ch·ªßng Lo·∫°i</span>
                <a href="#">Nh·∫´n</a><a href="#">B√¥ng Tai</a><a href="#">L·∫Øc</a
                ><a href="#">V√≤ng</a><a href="#">D√¢y Chuy·ªÅn</a>
              </div>
              <div class="material-menu">
                <span>Ch·∫•t Li·ªáu</span>
                <a href="#">V√†ng</a>
                <a href="#">B·∫°c</a>
              </div>
              <div class="product-line">
                <span>D√≤ng H√†ng</span>
                <a href="#">Trang S·ª©c ƒê√≠nh Kim C∆∞∆°ng</a
                ><a href="#">Trang S·ª©c Kh√¥ng ƒê√≠nh ƒê√°</a
                ><a href="#">Kim C∆∞∆°ng Vi√™n</a>
              </div>
              <div class="style-menu">
                <span>Trang S·ª©c Phong Thu·ª∑</span>
                <a href="#">Trang S·ª©c Theo Cung & M·ªánh</a
                ><a href="#">Best Seller</a><a href="#">H√†ng ƒê·∫∑t Tr∆∞·ªõc</a>
              </div>
              <img
                src="https://cdn.pnj.io/images/2024/11/vuondasac-t12-400x270CTA.png"
                alt=""
                style="width: 300px; height: auto"
              />
            </div>
          </li>
          <li>
            <a href="{% url 'wedding_page' %}" class="menu-item" id="item-2">Trang S·ª©c C∆∞·ªõi</a>
            <!-- Sub Menu 2-->
            <div class="sub-menu-2">
              <div class="purpose-menu">
                <span>Theo M·ª•c ƒê√≠ch</span>
                <a href="#">C·∫ßu H√¥n</a><a href="#">K·∫øt H√¥n</a
                ><a href="#">K·ª∑ Ni·ªám</a>
              </div>
              <div class="type-menu">
                <span>Ch·ªßng Lo·∫°i</span>
                <a href="#">Nh·∫´n</a><a href="#">B√¥ng Tai</a><a href="#">L·∫Øc</a
                ><a href="#">V√≤ng Tay</a><a href="#">D√¢y Chuy·ªÅn</a>
              </div>
              <div class="product-line">
                <span>D√≤ng Trang S·ª©c</span>
                <a href="#">Kim C∆∞∆°ng</a><a href="#">Kh√¥ng ƒê√≠nh ƒê√°</a
                ><a href="#">ƒê√° M√†u</a>
              </div>
              <div class="material-menu">
                <span>Ch·∫•t Li·ªáu</span>
                <a href="#">V√†ng 24k</a>
                <a href="#">V√†ng 18k</a>
              </div>
              <img
                src="https://cdn.pnj.io/images/2024/10/trau-cau-08-10-24-Banner_BST_TC_KC_400x270.png"
                alt=""
                style="width: 300px; height: auto"
              />
            </div>
          </li>
          <li>
            <a href="{% url 'watch_page' %}" class="menu-item" id="item-3">ƒê·ªìng H·ªì</a>
            <!-- Sub Menu 3-->
            <div class="sub-menu-3">
              <div class="branch-menu">
                <span>Th∆∞∆°ng Hi·ªáu Nh·∫≠t B·∫£n</span>
                <a href="#">Casio</a><a href="#">Orient</a
                ><a href="#">Citizen</a>
              </div>
              <div class="type-menu">
                <span>Ch·ªßng Lo·∫°i</span>
                <a href="#">H√†ng ƒê·∫∑t Tr∆∞·ªõc</a><a href="#">ƒê·ªìng H·ªì</a
                ><a href="#">ƒê·ªìng H·ªì C·∫∑p</a>
              </div>
              <div class="gener-menu">
                <span>Gi·ªõi T√≠nh</span>
                <a href="#">Nam</a>
                <a href="#">N·ªØ</a>
              </div>
              <img
                src="https://cdn.pnj.io/images/promo/216/PNJ-Watch-post-1-3.png"
                alt=""
                style="width: 300px; height: auto"
              />
            </div>
          </li>
          <li>
            <a href="{% url 'gift_page' %}" class="menu-item" id="item-4">Qu√† T·∫∑ng</a>
            <!-- Sub Menu 4-->
            <div class="sub-menu-4">
              <div class="gift-menu">
                <span>G·ª£i √ù Qu√† T·∫∑ng</span>
                <a href="#">Cho Ng∆∞·ªùi L·ªõn</a><a href="#">Cho Tr·∫ª Em</a>
              </div>
              <div class="type-menu">
                <span>Qu√† T·∫∑ng M·ªπ Ngh·ªá</span>
                <a href="#">T∆∞·ª£ng Phong Thu·ª∑</a><a href="#">Tranh Phong Thu·ª∑</a>
              </div>
              <img
                src="https://cdn.pnj.io/images/2024/09/DW_Navigation_Bar_CTA_400x270.png"
                alt=""
                style="width: 300px; height: auto"
              />
            </div>
          </li>
          <li>
            <a href="#" class="menu-item" id="item-5">Th∆∞∆°ng Hi·ªáu</a>
            <div class="sub-menu-5">
              <div class="branch-menu">
                <div class="box">
                  <img
                    src="https://cdn.pnj.io/images/image-update/layout/iconhotdeal-new.svg"
                    alt=""
                    class="icon-search"
                    style="width: 15px; height: auto"
                  />
                  <span>Th∆∞∆°ng Hi·ªáu</span>
                </div>
                <div class="image">
                  <a href="#"
                    ><img
                      src="https://cdn.pnj.io/images/2023/relayout-pdp/mencode-thuonghieu-logo.svg"
                      alt=""
                      style="width: 100px; height: 50px" /></a
                  ><a href="#"
                    ><img
                      src="https://cdn.pnj.io/images/2023/brand-search-bar/watch.svg"
                      alt=""
                      style="width: 100px; height: 50px" /></a
                  ><a href="#"
                    ><img
                      src="https://cdn.pnj.io/images/2023/brand-search-bar/style.svg"
                      alt=""
                      style="width: 100px; height: 50px" /></a
                  ><a href="#"
                    ><img
                      src="https://cdn.pnj.io/images/2023/brand-search-bar/disney.svg"
                      alt=""
                      style="width: 100px; height: 50px"
                  /></a>
                </div>
              </div>
            </div>
          </li>
          <li>
            <a href="{% url 'blog_page' %}" class="menu-item">Blog</a>
          </li>
          <li>
            <a href="{% url 'sales_page' %}" class="menu-item">Khuy·∫øn M√£i</a>
          </li>
          <input type="search" id="search-menu" placeholder="T√¨m Ki·∫øm Nhanh" />
        </ul>
      </nav>
    </header>
    <!-- Search -->
    <div class="search">
      <div class="wrap-search">
        <div class="search-container">
          <div class="search-bar">
            <button id="search-btn">
              <i class="fa-solid fa-magnifying-glass"></i>
            </button>
            <input type="text" id="search-input" placeholder="T√¨m ki·∫øm..." />
            <span id="search-btn-cancel">x</span>
          </div>
          <div class="search-main">
            <div class="content-sale">
              <div class="box">
                <img
                  src="https://cdn.pnj.io/images/image-update/layout/iconhotdeal-new.svg"
                  alt=""
                  class="icon-search"
                  style="width: 15px; height: auto"
                />
                <h4>∆Øu ƒë√£i online</h4>
              </div>
              <div class="tags">
                <a href="{% url 'sales_page' %}" class="tag">Trang s·ª©c v√†ng ∆∞u ƒë√£i 25%</a>
                <a href="{% url 'sales_page' %}" class="tag">Trang s·ª©c v√†ng ∆∞u ƒë√£i 40%</a>
              </div>
            </div>
            <div class="rank-search">
              <div class="box">
                <img
                  src="https://cdn.pnj.io/images/image-update/layout/mobile/mui_ten.svg"
                  alt=""
                  class="icon-search"
                  style="width: 15px; height: auto"
                />
                <span>Top t√¨m ki·∫øm</span>
              </div>
              <a href="{% url 'sales_page' %}" class="tag">H√†ng M·ªõi </a
              ><a href="#" class="tag">Nh·∫´n C∆∞·ªõi </a
              ><a href="#" class="tag">V√≤ng C·ªï</a>
            </div>
            <div class="service-hot">
              <div class="box">
                <img
                  src="https://cdn.pnj.io/images/image-update/layout/mobile/hot.svg"
                  alt=""
                  class="icon-search"
                  style="width: 15px; height: auto"
                />
                <span>D·ªãch v·ª• hot</span>
              </div>
              <a class="tag" href="{% url 'gift_page' %}" class="gift">Phi·∫øu qu√† t·∫∑ng</a>
            </div>
            <div class="branch-search">
              <div class="box">
                <img
                  src="https://cdn.pnj.io/images/image-update/searchbar/brand_icon.svg"
                  alt=""
                  class="icon-search"
                  style="width: 15px; height: auto"
                />
                <span>Th∆∞∆°ng hi·ªáu n·ªïi b·∫≠t</span>
              </div>
              <a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/searchbar/style.svg"
                  alt=""
                  class="image-branch" /></a
              ><a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/searchbar/disney.svg"
                  alt=""
                  class="image-branch"
              /></a>
            </div>
            <div class="product-top">
              <div class="box">
                <img
                  src="https://cdn.pnj.io/images/image-update/layout/mobile/tim_kiem.svg"
                  alt=""
                  class="icon-search"
                  style="width: 15px; height: auto"
                />
                <span>S·∫£n ph·∫©m ƒë∆∞·ª£c t√¨m ki·∫øm nhi·ªÅu nh·∫•t</span>
              </div>
              <div class="wrap">
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
                <div class="detail">
                  <img
                    src="https://www.pnj.com.vn/search/_next/image?url=https%3A%2F%2Fcdn.pnj.io%2Fimages%2Fdetailed%2F222%2Fsp-gb0000y003038-bong-tai-vang-24k-pnj-1.png&w=64&q=75"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                  <span class="price">9.999.999ƒë</span>
                </div>
              </div>
            </div>
          </div>
          <div class="search-sub">
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">991 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">992 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">993 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">994 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">995 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">996 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">997 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">998 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
            <div class="content-search">
              <img
                style="width: 80px; height: auto"
                src="https://cdn.pnj.io/images/thumbnails/485/485/detailed/204/sp-gmdd00w000634-mat-day-chuyen-kim-cuong-vang-trang-14k-pnj-chu-a-1.png"
                alt=""
              />
              <div class="title-product">
                <span class="name-product">V√≤ng V√†ng 18k </span>
                <div class="detail-product">
                  <span class="price">9.999.999ƒë</span>
                  <span class="stock">999 ƒë√£ b√°n</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Search -->
    <!-- End Header -->
    <!-- Main -->
    <div class="cart-container">
      <a href="{%url 'home_page1' %}" class="back-link">‚Üê Quay l·∫°i</a>
      <h1>Gi·ªè H√†ng</h1>
      <!-- <div class="cart">
           {% for item in items %}
          <div class="cart-item">
              <div class="item-info">
                  <input type="checkbox" class="item-checkbox">
                  <img src="{{ items.product.image.url }}" alt="{{ item.product.Pname }}" />
                  <div class="item-details">
                      <h2>{{ item.product.Pname }}</h2>
                      <p>M√£: {{ item.product.ProductID}}</p>
                      <div class="box-size">
                          <div class="item-options">
                              <select id="ring-size" class="ring-size">
                                  <option value="13" selected>13</option>
                                  <option value="14">14</option>
                                  <option value="15">15</option>
                                  <option value="16">16</option>
                                  <option value="17">17</option>
                              </select>
                          </div>
                          <div class="quantity">
                              <button class="btn-decrease">-</button>
                              <p class="quantity">{{item.quantity}}</p>
                              <button class="btn-increase">+</button>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="item-price">
                  <p>{{ item.price }}</p>
                  <button class="btn-remove"><i class="fa-solid fa-trash-can"></i></button>
              </div>
          </div>
          {% endfor %}
      </div> -->
      <!-- T·ªïng ti·ªÅn -->
      <!-- <div class="cart-summary">
          <p>S·ªë l∆∞·ª£ng: <span class="subtotal">{{order.get_cart_items}}</span></p>
          <p>Gi·∫£m gi√°: <span class="discount">0‚Ç´</span></p>
          <p>T·ªïng ti·ªÅn: <span class="total">{{order.get_cart_total}}</span></p>
          <p class="vat-note">(Gi√° tham kh·∫£o ƒë√£ bao g·ªìm VAT)</p>
      </div> -->
      <!-- Neu thanh toan ma duoc vao database thi chuyen qua trang cart-finish va nguoc lai la thanh toan that bai -->
      <!-- <button class="btn-continue">Ti·∫øp t·ª•c</button> -->
      <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
      <table class="table">
        <thead>
          <tr>
            <th>M√£ SP</th>
            <th>T√™n SP</th>
            <th>·∫¢nh SP</th>
            <th>S·ªë l∆∞·ª£ng</th>
            <th>Gi√°</th>
            <th>T·ªïng</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="cart-items"></tbody>
      </table>
      <h4>T·ªïng c·ªông: <span id="cart-total">0</span> VNƒê</h4>
      <button class="btn btn-success" id="checkout">Thanh to√°n</button>
  </div>
    <!-- End Main -->
    <!-- Footer -->
    <!-- <script>
            // L·∫•y d·ªØ li·ªáu t·ª´ localStorage
      document.addEventListener("DOMContentLoaded", function () {
          loadCartFromLocalStorage();
      });
      document.querySelector(".btn-continue").addEventListener("click", function () {
          let isLoggedIn = false; // Ki·ªÉm tra n·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p
          if (!isLoggedIn) {
              alert("B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c!");
              window.location.href = "/accounts/login";
          } else {
              window.location.href = "/cartfinish";
          }
      });

    </script> -->
    <!-- <script>
      document.addEventListener("DOMContentLoaded", function () {
        updateCartCount();
        loadCart();
      });
      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        document.querySelector(".number-cart").textContent = totalItems;
      }
      function loadCart() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";
        let totalPrice = 0;
        cart.forEach(item => {
          let row = document.createElement("tr");
          row.innerHTML = `
            <td>${item.product_id}</td>
            <td><input type="number" class="quantity" data-id="${item.product_id}" value="${item.quantity}" min="1"></td>
            <td class="price">${item.price} VNƒê</td>
            <td class="total">${item.price * item.quantity} VNƒê</td>
            <td><button class="btn btn-danger remove-item" data-id="${item.product_id}">X√≥a</button></td>
          `;
          cartItemsContainer.appendChild(row);
          totalPrice += item.price * item.quantity;
        });
        document.getElementById("cart-total").textContent = totalPrice;
      }
      document.getElementById("cart-items").addEventListener("click", function (event) {
        if (event.target.classList.contains("remove-item")) {
          let productId = event.target.dataset.id;
          let cart = JSON.parse(localStorage.getItem("cart")) || [];
          cart = cart.filter(item => item.product_id !== productId);
          localStorage.setItem("cart", JSON.stringify(cart));
          loadCart();
        }
      });
      document.getElementById("checkout").addEventListener("click", function () {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        fetch("/checkout/", {
          method: "POST",
          headers: {
            "X-CSRFToken": getCSRFToken(),
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ cart: cart })
        })
        .then(response => response.json())
        .then(data => {
          alert(data.message);
          if (data.order_id) {
            localStorage.removeItem("cart");
            window.location.href = '/cart-finish/';
          }
        });
      });
    </script> -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        updateCartCount();
        loadCart();
      });
      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        document.querySelector(".number-cart").textContent = totalItems;
      }
      function loadCart() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";
        let totalPrice = 0;
        cart.forEach(item => {
          let row = document.createElement("tr");
          row.innerHTML = `
            <td>${item.product_id}</td>
            <td>${item.name}</td>
            <td><img src="${item.image}" alt="${item.name}" style="width: 50px; height: auto"></td>
            <td>
              <div class="quantity-control">
                <button class="qty-minus" data-id="${item.product_id}">-</button>
                <input 
                  type="number" 
                  class="quantity" 
                  data-id="${item.product_id}" 
                  value="${item.quantity}" 
                  min="1"
                >
                <button class="qty-plus" data-id="${item.product_id}">+</button>
              </div>
            </td>
            <td class="price">${item.price} VNƒê</td>
            <td class="total">${(item.price * item.quantity).toFixed(2)} VNƒê</td>
            <td><button class="btn btn-danger remove-item" data-id="${item.product_id}">X√≥a</button></td>
          `;
          cartItemsContainer.appendChild(row);
          totalPrice += item.price * item.quantity;
        });
        document.getElementById("cart-total").textContent = totalPrice.toFixed(2);
      }
      document.getElementById("cart-items").addEventListener("click", function (event) {
        if (event.target.classList.contains("remove-item")) {
          let productId = event.target.dataset.id;
          let cart = JSON.parse(localStorage.getItem("cart")) || [];
          cart = cart.filter(item => item.product_id !== productId);
          localStorage.setItem("cart", JSON.stringify(cart));
          loadCart();
        }
        // X·ª≠ l√Ω tƒÉng/gi·∫£m s·ªë l∆∞·ª£ng
        if (event.target.classList.contains("qty-plus") || event.target.classList.contains("qty-minus")) {
          const button = event.target;
          const input = button.parentNode.querySelector('.quantity');
          const productId = input.dataset.id;
          
          // C·∫≠p nh·∫≠t gi√° tr·ªã
          if (button.classList.contains('qty-plus')) {
            input.stepUp();
          } else {
            input.stepDown();
          }
          
          // C·∫≠p nh·∫≠t gi·ªè h√†ng
          const cart = JSON.parse(localStorage.getItem("cart")) || [];
          const item = cart.find(item => item.product_id === productId);
          if (item) {
            item.quantity = parseInt(input.value);
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart(); // Refresh hi·ªÉn th·ªã
            updateCartCount();
          }
        }
      });
     
    </script>
    <!-- Thanh toan -->
    <!-- <input type="hidden" id="customer-id" value="{{ user.CustomerID }}"> -->

    <script>
document.getElementById("checkout").addEventListener("click", async function () {
    let cartItems = [];

    document.querySelectorAll("#cart-items tr").forEach(row => {
    let productIdElement = row.querySelector("input.quantity");
    let priceElement = row.querySelector(".price");

    if (!productIdElement || !priceElement) {
        console.error("‚ùå L·ªói: Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu s·∫£n ph·∫©m trong h√†ng n√†y!", row);
        return;
    }

    let productId = productIdElement.dataset.id;  // L·∫•y product_id t·ª´ data-id
    let quantity = parseInt(productIdElement.value || "0");
    let price = parseFloat(priceElement.textContent.trim());

    if (!productId || isNaN(quantity) || isNaN(price)) {
        console.error("‚ùå L·ªói: S·ªë l∆∞·ª£ng ho·∫∑c gi√° kh√¥ng h·ª£p l·ªá!", { productId, quantity, price });
        return;
    }

    cartItems.push({ product_id: productId, quantity: quantity, price: price });
});

function getCSRFToken() {
    let csrfToken = document.querySelector('input[name="csrfmiddlewaretoken"]');
    return csrfToken ? csrfToken.value : "";
}

    console.log("üìå D·ªØ li·ªáu g·ª≠i ƒëi:", cartItems);

    if (cartItems.length === 0) {
        alert("Gi·ªè h√†ng tr·ªëng, kh√¥ng th·ªÉ thanh to√°n!");
        return;
    }

    fetch("/api/create-order/", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": getCSRFToken() // ‚úÖ Fix l·ªói CSRF Token
        },
        body: JSON.stringify({
        customer_id: "1a81f1",  // üëà ƒê·∫£m b·∫£o c√≥ gi√° tr·ªã h·ª£p l·ªá
        cart_items: cartItems
    })
    })
    .then(response => response.json())
    .then(data => {
        console.log("üìå Server Response:", data);

        if (data.status === "success") {
            // ‚úÖ X√≥a gi·ªè h√†ng kh·ªèi localStorage ho·∫∑c sessionStorage
            localStorage.removeItem("cart");
            sessionStorage.removeItem("cart");

            // ‚úÖ L√†m tr·ªëng giao di·ªán gi·ªè h√†ng
            document.getElementById("cart-items").innerHTML = "";

            // ‚úÖ Chuy·ªÉn h∆∞·ªõng sang trang ho√†n t·∫•t ƒë∆°n h√†ng
            window.location.href = "/cartfinish/";
        } else {
            alert("‚ö†Ô∏è ƒê√£ c√≥ l·ªói x·∫£y ra: " + data.message);
        }
    })
    .catch(error => console.error("L·ªói:", error));
});
    </script>
     <!-- End -->
    <footer class="footer">
      <hr />
      <div class="container">
        <!-- Logo -->
        <img
          src="{%static 'home/assets/img/img-main/logo-page.jpg' %}"
          alt=""
          class="logo-footer"
        />
        <div class="wrap-content">
          <!-- Content Cty -->
          <div class="content-footer">
            <h4>¬©2017 C√¥ng Ty C·ªï Ph·∫ßn V√†ng B·∫°c ƒê√° Qu√Ω</h4>
            <p>
              02 V√µ Oanh, P.25, Q.B√¨nh Th·∫°nh, TP.H·ªì Ch√≠ Minh <br />
              ƒêT: <span>028 9988 xxxx</span> - Fax: <span>028 3900 xxxx</span>
            </p>
            <p>
              <span>Gi·∫•y ch·ª©ng nh·∫≠n ƒëƒÉng k√Ω doanh nghi·ªáp: 99999999</span> do S·ªü
              K·∫ø ho·∫°ch & ƒê·∫ßu t∆∞ TP.HCM c·∫•p l·∫ßn ƒë·∫ßu ng√†y 02/01/2004. Ng√†nh, ngh·ªÅ
              kinh doanh
            </p>
            <p>
              T·ªïng ƒë√†i h·ªó tr·ª£ (08:00-21:00, mi·ªÖn ph√≠ g·ªçi) <br />G·ªçi mua:
              <span>1800545xxx </span> (ph√≠m 1) <br />Khi·∫øu n·∫°i:
              <span>1800545xxx</span> (ph√≠m 2)
            </p>
          </div>
          <!-- Intro -->
          <div class="intro-footer">
            <span>V·ªÄ D & C</span>
            <a href="#">Tuy·ªÉn D·ª•ng</a>
            <a href="{% url 'inspection_page' %}">Ki·ªÉm ƒë·ªãnh kim c∆∞∆°ng</a>
            <a href="{% url 'gift_page' %}">Qu√† t·∫∑ng</a>
          </div>
          <!-- D·ªãch v·ª•, ch√≠nh s√°ch -->
          <div class="use-footer">
            <span>D·ªäCH V·ª§ KH√ÅCH H√ÄNG</span>
            <a href="{% url 'size_page' %}">H∆∞·ªõng d·∫´n ƒëo size trang s·ª©c</a>
            <a href="{% url 'buybill_page' %}">H∆∞·ªõng d√¢n mua v√† thanh to√°n</a>
            <a href="{% url 'guide_page' %}">C·∫©m nang s·ª≠ d·ª•ng trang s·ª©c</a>
            <a href="{% url 'faq_page' %}">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a>
            <span>T·ªîNG H·ª¢P C√ÅC CH√çNH S√ÅCH D&C</span>
            <a href="{% url 'delivery_page' %}">Ch√≠nh s√°ch giao h√†ng</a>
            <a href="{% url 'warranty_page' %}">Ch√≠nh s√°ch b·∫£o h√†nh</a>
            <a href="{% url 'security_page' %}">Ch√≠nh s√°ch b·∫£o m·∫≠t th√¥ng tin</a>
          </div>
          <!-- Link social -->
          <div class="social-footer">
            <span>K·∫æT N·ªêI V·ªöI CH√öNG T√îI</span>
            <div class="logo-social">
              <a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/footer/facebook.svg"
                  alt=""
              /></a>
              <a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/footer/instagram.svg"
                  alt=""
              /></a>
              <a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/footer/youtube.svg"
                  alt=""
              /></a>
              <a href="#"
                ><img
                  src="https://cdn.pnj.io/images/image-update/footer/email.svg"
                  alt=""
              /></a>
            </div>
          </div>
          <!-- Kh√°c -->
          <div class="methor-pay">
            <span>PH∆Ø∆†NG TH·ª®C THANH TO√ÅN</span>
            <div class="image-pay">
              <img
                src="https://www.pnj.com.vn/design/themes/pnjrovski/media/images/payments/visa.svg"
                alt=""
              />
              <img
                src="https://www.pnj.com.vn/design/themes/pnjrovski/media/images/payments/mastercard.svg"
                alt=""
              />
              <img
                src="https://www.pnj.com.vn/design/themes/pnjrovski/media/images/payments/jcb.svg"
                alt=""
              />
              <img
                src="https://www.pnj.com.vn/design/themes/pnjrovski/media/images/payments/thanhtoantienmat.svg"
                alt=""
              />
            </div>
          </div>
          <div class="certi">
            <span>CH·ª®NG NH·∫¨N</span>
            <img
              src="https://cdn.pnj.io/images/image-update/op-da-thong-bao-bo-cong-thuong-183x60.png"
              alt=""
              class="certis"
            />
          </div>
        </div>
      </div>
    </footer>
    <script src="{% static 'home/assets/js/cart.js' %}"></script>
    <script src="{% static 'home/assets/js/search.js' %}"></script>
  </body>
</html>